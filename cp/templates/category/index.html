{% extends 'base.html' %}
{% load static %}

{% block container %}
	<h1 class="h3 mb-4 text-gray-800"><a href="{% url 'cp:category-create' %}">Create Category</a></h1>

	<div class="card shadow mb-4">
		<div class="card-header py-3">
			<h6 class="m-0 font-weight-bold text-primary">Categories</h6>
		</div>
		<div class="card-body">
			<div class="table-responsive">
				<table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
					<thead>
						<tr>
							<th>ID</th>
							<th>Name</th>
							<th>Subscribers</th>
							<th>Created at</th>
							<th>Actions</th>
						</tr>
					</thead>
					<tfoot>
						<tr>
							<th>ID</th>
							<th>Name</th>
							<th>Subscribers</th>
							<th>Created at</th>
							<th>Actions</th>
						</tr>
					</tfoot>
					<tbody>
						{% for category in categories %}
							<tr>
								<td>{{ category.id }}</td>
								<td>{{ category.name }}</td>
								<td>{{ category.subscribe.count }}</td>
								<td>{{ category.created_at }}</td>
								<td>
									<div class="btn-group">
										<a class="btn btn-primary" href="{% url 'cp:category-show' id=category.id %}">Show</a>
										<a class="btn btn-success" href="{% url 'cp:category-edit' id=category.id %}">Edit</a>
										<a class="btn btn-danger" href="{% url 'cp:category-delete' id=category.id %}">Delete</a>
									</div>
								</td>
							</tr>
						{% endfor %}
					</tbody>
				</table>
			</div>
		</div>
	</div>
{% endblock %}

{% block script %}
	<script src="{% static 'js/cp/category/script.js' %}"></script>
{% endblock %}